
<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Topic 2</title>
</head>
<body>
	<h1>This is Topic 2</h1>
	<form>
	<select id="movies" default="select" onchange="changeText();" required class="elem" />
		<option selected disabled value="none" class="elem">Choose a movie</option>
	</select><br/>
	<textarea id="display" disabled class="elem"></textarea><br>

	
	<label id="shareLb" class="elem">share this movie with a friend</label>
	<input type="text" id="friend" placeholder="Type your friend's name" class="elem" required/>
	<input type="button" value="share" class="elem" id="button" onclick="sh.share()"><br>
	<label id="shareStat" class="elem"></label>
	</form>



</body>
</html>

<script type="text/javascript">
	
class Movie {

	constructor(title, year, duration) {
	this.title = title;
	this.year = year;
	this.duration = duration;
	this.cast = [];
	}

	play() {
		console.log("now playing "+ this.title);
	}

	pause() {
		console.log("the movie "+ this.title + " is now paused.");
	}

	resume() {
		console.log("resuming "+ this.title);
	}

	addCast(actors) {
		var bool = actors instanceof Array;
		if(bool){
			actors.forEach(function(actor){
				this.cast.push(actor);
			})
		}
		else {
			this.cast.push(actors);
		}
	}

	
}


var a = new Movie("Titanic", 1998, 162);
var b = new Movie ("Star Wars", 2015, 135);
var c = new Movie ("X-Men", 2014, 132);
a.play();
b.resume();
c.pause();

class EventEmitter {

	constructor(log){
		this.log=log;
	}

	on(event, logObject){

	}

	emit(){

	}

	off(){
		// this = null;
		console.log("listener deleted");
	}
}



class Social{
	constructor(title, friend){
		this.title = title;
		this.friend = friend
	}

	share(){

		var name = document.getElementById("friend").value;
		var val= document.getElementById("movies").value;

		if(name != "" && val != "none")
		{
			var movie = document.getElementById("movies").value;
			document.getElementById("shareStat").innerHTML = movie + " has been shared with " + name;
		}
		else document.getElementById("shareStat").innerHTML = "select a movie and type in the name of a friend to share."
	}

	like(friendName){
		return friendName + " likes this movie."
	}
}

class Actor{
	constructor(name, age){
		this.name = name;
		this.age = age;
	}
}

var leo = new Actor ("leo Di Caprio", 43);
var kat = new Actor ("Kate Winslet", 40);


console.log(a.year);

var x = [a, b, c];

var status = false;


function getList(){
	var len= document.getElementById("movies").length;

	for (var i = 0; i < x.length; i++) {


		console.log(x[i].title);
		var node = document.createElement("option");                 // Create an <option> node
		var textnode = document.createTextNode(x[i].title);         // Create a text node
		node.appendChild(textnode);
 
		document.getElementById("movies").appendChild(node);
		document.getElementsByTagName("option")[i+1].setAttribute("value", x[i].title);
		console.log(movies[i+1]);
		}
	}

this.getList();

function changeText(){
	
	var text = document.getElementById("movies").value;
	console.log(text);
	var len= document.getElementById("movies").length;

	for(var i = 0; i < len; i++){
		if(text == x[i].title){

			document.getElementById("display").innerHTML = x[i].title + "\nyear: " + x[i].year + "\nduration: " + x[i].duration;
			break;
		}

	}

}
		
var sh= new Social;





</script>